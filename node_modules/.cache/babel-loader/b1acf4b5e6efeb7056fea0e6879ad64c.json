{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport { useState, useEffect } from 'react';\nconst BASE_URL = \"http://localhost:3000\";\nexport function useFetchApi(userId, service) {\n  _s();\n\n  const [data, setData] = useState({});\n  const [isLoading, setIsLoading] = useState(true);\n  const [error, setError] = useState(false);\n  const endpoints = {\n    \"user\": `user/${userId}`,\n    \"daily-activity\": `user/${userId}/activity`,\n    \"average-sessions\": `user/${userId}/average-sessions`,\n    \"performance\": `user/${userId}/performance`\n  };\n  let endpoint;\n\n  for (let i in endpoints) {\n    let value = endpoints[i];\n\n    if (i === service) {\n      endpoint = value;\n    }\n  } //const endpoint = getEndpoint(userId, service);\n\n\n  const url = `${BASE_URL}/${endpoint}`;\n  useEffect(() => {\n    setIsLoading(true);\n    fetch(url).then(res => res.json()).then(data => {\n      console.log(data);\n      data.data.forEach(item => setData(item.data.sessions, service));\n    }).catch(err => {\n      console.log(err);\n      setError(true);\n    });\n  }, [service, userId, endpoint]);\n  return {\n    data,\n    isLoading,\n    error\n  };\n} // function getEndpoint(userId, service){\n//     const endpoints ={\n//         \"user\" : `user/${userId}`, \n//         \"daily-activity\" : `user/${userId}/activity`, \n//         \"average-sessions\": `user/${userId}/average-sessions`,\n//         \"performance\" : `user/${userId}/performance`\n//     }\n//     let endpoint;\n//     for(let i in endpoints){\n//         let value = endpoints[i];\n//         if(i === service){\n//             endpoint = value;\n//         }\n//     }\n//     return endpoint;\n// }\n\n_s(useFetchApi, \"WJYBqn2c+jk5gbHkf/rp07sHMmE=\");","map":{"version":3,"names":["useState","useEffect","BASE_URL","useFetchApi","userId","service","data","setData","isLoading","setIsLoading","error","setError","endpoints","endpoint","i","value","url","fetch","then","res","json","console","log","forEach","item","sessions","catch","err"],"sources":["/Users/jenniferbouhid/Desktop/sportsee/front-app/src/hooks/useFetchApi.jsx"],"sourcesContent":["import { useState, useEffect } from 'react'\n\nconst BASE_URL = \"http://localhost:3000\";\n\nexport function useFetchApi(userId, service) {\n    const [data, setData] = useState({});\n    const [isLoading, setIsLoading] = useState(true);\n    const [error, setError] = useState(false);\n    const endpoints ={\n        \"user\" : `user/${userId}`, \n        \"daily-activity\" : `user/${userId}/activity`, \n        \"average-sessions\": `user/${userId}/average-sessions`,\n        \"performance\" : `user/${userId}/performance`\n    }\n    let endpoint;\n    for(let i in endpoints){\n        let value = endpoints[i];\n        if(i === service){\n            endpoint = value;\n        }\n    }\n    //const endpoint = getEndpoint(userId, service);\n    const url = `${BASE_URL}/${endpoint}`;\n    \n    useEffect(() => {\n        setIsLoading(true);\n\n        fetch(url)\n            .then(res =>res.json())\n            .then((data) => {\n                console.log(data)\n               \n                data.data.forEach( item => setData(item.data.sessions, service))\n            })\n            .catch ((err) =>{\n                console.log(err)\n                setError(true)\n            })\n            }, [service, userId, endpoint])\n    return { data, isLoading, error };\n}\n\n// function getEndpoint(userId, service){\n//     const endpoints ={\n//         \"user\" : `user/${userId}`, \n//         \"daily-activity\" : `user/${userId}/activity`, \n//         \"average-sessions\": `user/${userId}/average-sessions`,\n//         \"performance\" : `user/${userId}/performance`\n//     }\n//     let endpoint;\n    \n//     for(let i in endpoints){\n//         let value = endpoints[i];\n//         if(i === service){\n//             endpoint = value;\n//         }\n//     }\n//     return endpoint;\n// }\n\n"],"mappings":";;AAAA,SAASA,QAAT,EAAmBC,SAAnB,QAAoC,OAApC;AAEA,MAAMC,QAAQ,GAAG,uBAAjB;AAEA,OAAO,SAASC,WAAT,CAAqBC,MAArB,EAA6BC,OAA7B,EAAsC;EAAA;;EACzC,MAAM,CAACC,IAAD,EAAOC,OAAP,IAAkBP,QAAQ,CAAC,EAAD,CAAhC;EACA,MAAM,CAACQ,SAAD,EAAYC,YAAZ,IAA4BT,QAAQ,CAAC,IAAD,CAA1C;EACA,MAAM,CAACU,KAAD,EAAQC,QAAR,IAAoBX,QAAQ,CAAC,KAAD,CAAlC;EACA,MAAMY,SAAS,GAAE;IACb,QAAU,QAAOR,MAAO,EADX;IAEb,kBAAoB,QAAOA,MAAO,WAFrB;IAGb,oBAAqB,QAAOA,MAAO,mBAHtB;IAIb,eAAiB,QAAOA,MAAO;EAJlB,CAAjB;EAMA,IAAIS,QAAJ;;EACA,KAAI,IAAIC,CAAR,IAAaF,SAAb,EAAuB;IACnB,IAAIG,KAAK,GAAGH,SAAS,CAACE,CAAD,CAArB;;IACA,IAAGA,CAAC,KAAKT,OAAT,EAAiB;MACbQ,QAAQ,GAAGE,KAAX;IACH;EACJ,CAhBwC,CAiBzC;;;EACA,MAAMC,GAAG,GAAI,GAAEd,QAAS,IAAGW,QAAS,EAApC;EAEAZ,SAAS,CAAC,MAAM;IACZQ,YAAY,CAAC,IAAD,CAAZ;IAEAQ,KAAK,CAACD,GAAD,CAAL,CACKE,IADL,CACUC,GAAG,IAAGA,GAAG,CAACC,IAAJ,EADhB,EAEKF,IAFL,CAEWZ,IAAD,IAAU;MACZe,OAAO,CAACC,GAAR,CAAYhB,IAAZ;MAEAA,IAAI,CAACA,IAAL,CAAUiB,OAAV,CAAmBC,IAAI,IAAIjB,OAAO,CAACiB,IAAI,CAAClB,IAAL,CAAUmB,QAAX,EAAqBpB,OAArB,CAAlC;IACH,CANL,EAOKqB,KAPL,CAOaC,GAAD,IAAQ;MACZN,OAAO,CAACC,GAAR,CAAYK,GAAZ;MACAhB,QAAQ,CAAC,IAAD,CAAR;IACH,CAVL;EAWK,CAdA,EAcE,CAACN,OAAD,EAAUD,MAAV,EAAkBS,QAAlB,CAdF,CAAT;EAeA,OAAO;IAAEP,IAAF;IAAQE,SAAR;IAAmBE;EAAnB,CAAP;AACH,C,CAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;GAtDgBP,W"},"metadata":{},"sourceType":"module"}