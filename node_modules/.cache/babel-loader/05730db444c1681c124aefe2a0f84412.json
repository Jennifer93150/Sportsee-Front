{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport { useState, useEffect } from 'react';\nconst BASE_URL = \"http://localhost:3000\";\nexport function useFetchApi(userId, service) {\n  _s();\n\n  const [data, setData] = useState({});\n  const [isLoading, setIsLoading] = useState(true);\n  const [error, setError] = useState(false);\n  const endpoint = getEndpoint(userId, service);\n  useEffect(() => {\n    setIsLoading(true);\n    fetch(BASE_URL).then(res => res.json()).then(data => {\n      console.log(data);\n      setData();\n\n      for (let item of data) {\n        //         console.log(item)\n        //         console.log(service)\n        setData(item, service);\n      } //     //J'init un état des données à true \n      //     setIsLoading(true)\n      //     //J'envoi les données vers la fonction setLocations\n      //     setData(location)\n      //     console.log(location)\n      // })\n\n    }).catch(err => {\n      console.log(err);\n      setError(true);\n    });\n  }, []);\n  return {\n    data,\n    isLoading,\n    error\n  };\n}\n\n_s(useFetchApi, \"WJYBqn2c+jk5gbHkf/rp07sHMmE=\");\n\nfunction getEndpoint(userId, service) {\n  const endpoints = {\n    \"user\": `user/${userId}`,\n    \"daily-activity\": `user/${userId}/activity`,\n    \"average-sessions\": `user/${userId}/average-sessions`,\n    \"performance\": `user/${userId}/performance`\n  };\n  let endpoint;\n\n  for (let i in endpoints) {\n    let value = endpoints[i];\n\n    if (i === service) {\n      endpoint = value;\n    }\n  }\n\n  return endpoint;\n}","map":{"version":3,"names":["useState","useEffect","BASE_URL","useFetchApi","userId","service","data","setData","isLoading","setIsLoading","error","setError","endpoint","getEndpoint","fetch","then","res","json","console","log","item","catch","err","endpoints","i","value"],"sources":["/Users/jenniferbouhid/Desktop/sportsee/front-app/src/hooks/useFetchApi.jsx"],"sourcesContent":["import { useState, useEffect } from 'react'\n\nconst BASE_URL = \"http://localhost:3000\";\n\nexport function useFetchApi(userId, service) {\n    const [data, setData] = useState({});\n    const [isLoading, setIsLoading] = useState(true);\n    const [error, setError] = useState(false);\n\n    const endpoint = getEndpoint(userId, service);\n\n    useEffect(() => {\n        setIsLoading(true);\n\n        fetch(BASE_URL)\n            .then(res =>res.json())\n            .then((data) => {\n                console.log(data)\n                setData()\n                \n                   \n                    for(let item of data){\n                        //         console.log(item)\n                        //         console.log(service)\n                            setData(item, service);\n                        }\n                   \n                //     //J'init un état des données à true \n                //     setIsLoading(true)\n                //     //J'envoi les données vers la fonction setLocations\n                //     setData(location)\n                //     console.log(location)\n                // })\n            })\n            .catch ((err) =>{\n                console.log(err)\n                setError(true)\n            })\n            }, [])\n    return { data, isLoading, error };\n}\n\nfunction getEndpoint(userId, service){\n    const endpoints ={\n        \"user\" : `user/${userId}`, \n        \"daily-activity\" : `user/${userId}/activity`, \n        \"average-sessions\": `user/${userId}/average-sessions`,\n        \"performance\" : `user/${userId}/performance`\n    }\n    let endpoint;\n    \n    for(let i in endpoints){\n        let value = endpoints[i];\n        if(i === service){\n            endpoint = value;\n        }\n    }\n    return endpoint;\n}\n\n"],"mappings":";;AAAA,SAASA,QAAT,EAAmBC,SAAnB,QAAoC,OAApC;AAEA,MAAMC,QAAQ,GAAG,uBAAjB;AAEA,OAAO,SAASC,WAAT,CAAqBC,MAArB,EAA6BC,OAA7B,EAAsC;EAAA;;EACzC,MAAM,CAACC,IAAD,EAAOC,OAAP,IAAkBP,QAAQ,CAAC,EAAD,CAAhC;EACA,MAAM,CAACQ,SAAD,EAAYC,YAAZ,IAA4BT,QAAQ,CAAC,IAAD,CAA1C;EACA,MAAM,CAACU,KAAD,EAAQC,QAAR,IAAoBX,QAAQ,CAAC,KAAD,CAAlC;EAEA,MAAMY,QAAQ,GAAGC,WAAW,CAACT,MAAD,EAASC,OAAT,CAA5B;EAEAJ,SAAS,CAAC,MAAM;IACZQ,YAAY,CAAC,IAAD,CAAZ;IAEAK,KAAK,CAACZ,QAAD,CAAL,CACKa,IADL,CACUC,GAAG,IAAGA,GAAG,CAACC,IAAJ,EADhB,EAEKF,IAFL,CAEWT,IAAD,IAAU;MACZY,OAAO,CAACC,GAAR,CAAYb,IAAZ;MACAC,OAAO;;MAGH,KAAI,IAAIa,IAAR,IAAgBd,IAAhB,EAAqB;QACjB;QACA;QACIC,OAAO,CAACa,IAAD,EAAOf,OAAP,CAAP;MACH,CATG,CAWZ;MACA;MACA;MACA;MACA;MACA;;IACH,CAnBL,EAoBKgB,KApBL,CAoBaC,GAAD,IAAQ;MACZJ,OAAO,CAACC,GAAR,CAAYG,GAAZ;MACAX,QAAQ,CAAC,IAAD,CAAR;IACH,CAvBL;EAwBK,CA3BA,EA2BE,EA3BF,CAAT;EA4BA,OAAO;IAAEL,IAAF;IAAQE,SAAR;IAAmBE;EAAnB,CAAP;AACH;;GApCeP,W;;AAsChB,SAASU,WAAT,CAAqBT,MAArB,EAA6BC,OAA7B,EAAqC;EACjC,MAAMkB,SAAS,GAAE;IACb,QAAU,QAAOnB,MAAO,EADX;IAEb,kBAAoB,QAAOA,MAAO,WAFrB;IAGb,oBAAqB,QAAOA,MAAO,mBAHtB;IAIb,eAAiB,QAAOA,MAAO;EAJlB,CAAjB;EAMA,IAAIQ,QAAJ;;EAEA,KAAI,IAAIY,CAAR,IAAaD,SAAb,EAAuB;IACnB,IAAIE,KAAK,GAAGF,SAAS,CAACC,CAAD,CAArB;;IACA,IAAGA,CAAC,KAAKnB,OAAT,EAAiB;MACbO,QAAQ,GAAGa,KAAX;IACH;EACJ;;EACD,OAAOb,QAAP;AACH"},"metadata":{},"sourceType":"module"}