{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport { useState, useEffect } from 'react';\nconst BASE_URL = \"http://localhost:3000\";\nexport function useFetchApi(userId, service) {\n  _s();\n\n  const [data, setData] = useState({});\n  const [isLoading, setIsLoading] = useState(true);\n  const [error, setError] = useState(false);\n  const endpoints = {\n    \"user\": `user/${userId}`,\n    \"daily-activity\": `user/${userId}/activity`,\n    \"average-sessions\": `user/${userId}/average-sessions`,\n    \"performance\": `user/${userId}/performance`\n  };\n  let endpoint;\n\n  for (let i in endpoints) {\n    let value = endpoints[i];\n\n    if (i === service) {\n      endpoint = value;\n    }\n  } //const endpoint = getEndpoint(userId, service);\n\n\n  const url = `${BASE_URL}/${endpoint}`;\n  useEffect(() => {\n    setIsLoading(true);\n    fetch(url).then(res => res.json()).then(data => {\n      console.log(data);\n\n      for (let item of data.data) {\n        setData(item, service);\n      }\n    }).catch(err => {\n      console.log(err);\n      setError(true);\n    });\n  }, []);\n  return {\n    data,\n    isLoading,\n    error\n  };\n}\n\n_s(useFetchApi, \"WJYBqn2c+jk5gbHkf/rp07sHMmE=\");\n\nfunction getEndpoint(userId, service) {\n  const endpoints = {\n    \"user\": `user/${userId}`,\n    \"daily-activity\": `user/${userId}/activity`,\n    \"average-sessions\": `user/${userId}/average-sessions`,\n    \"performance\": `user/${userId}/performance`\n  };\n  let endpoint;\n\n  for (let i in endpoints) {\n    let value = endpoints[i];\n\n    if (i === service) {\n      endpoint = value;\n    }\n  }\n\n  return endpoint;\n}","map":{"version":3,"names":["useState","useEffect","BASE_URL","useFetchApi","userId","service","data","setData","isLoading","setIsLoading","error","setError","endpoints","endpoint","i","value","url","fetch","then","res","json","console","log","item","catch","err","getEndpoint"],"sources":["/Users/jenniferbouhid/Desktop/sportsee/front-app/src/hooks/useFetchApi.jsx"],"sourcesContent":["import { useState, useEffect } from 'react'\n\nconst BASE_URL = \"http://localhost:3000\";\n\nexport function useFetchApi(userId, service) {\n    const [data, setData] = useState({});\n    const [isLoading, setIsLoading] = useState(true);\n    const [error, setError] = useState(false);\n    const endpoints ={\n        \"user\" : `user/${userId}`, \n        \"daily-activity\" : `user/${userId}/activity`, \n        \"average-sessions\": `user/${userId}/average-sessions`,\n        \"performance\" : `user/${userId}/performance`\n    }\n    let endpoint;\n    for(let i in endpoints){\n        let value = endpoints[i];\n        if(i === service){\n            endpoint = value;\n        }\n    }\n    //const endpoint = getEndpoint(userId, service);\n    const url = `${BASE_URL}/${endpoint}`;\n    \n    useEffect(() => {\n        setIsLoading(true);\n\n        fetch(url)\n            .then(res =>res.json())\n            .then((data) => {\n                console.log(data)\n               \n                for(let item of data.data){\n                    setData(item, service);\n                }\n            })\n            .catch ((err) =>{\n                console.log(err)\n                setError(true)\n            })\n            }, [])\n    return { data, isLoading, error };\n}\n\nfunction getEndpoint(userId, service){\n    const endpoints ={\n        \"user\" : `user/${userId}`, \n        \"daily-activity\" : `user/${userId}/activity`, \n        \"average-sessions\": `user/${userId}/average-sessions`,\n        \"performance\" : `user/${userId}/performance`\n    }\n    let endpoint;\n    \n    for(let i in endpoints){\n        let value = endpoints[i];\n        if(i === service){\n            endpoint = value;\n        }\n    }\n    return endpoint;\n}\n\n"],"mappings":";;AAAA,SAASA,QAAT,EAAmBC,SAAnB,QAAoC,OAApC;AAEA,MAAMC,QAAQ,GAAG,uBAAjB;AAEA,OAAO,SAASC,WAAT,CAAqBC,MAArB,EAA6BC,OAA7B,EAAsC;EAAA;;EACzC,MAAM,CAACC,IAAD,EAAOC,OAAP,IAAkBP,QAAQ,CAAC,EAAD,CAAhC;EACA,MAAM,CAACQ,SAAD,EAAYC,YAAZ,IAA4BT,QAAQ,CAAC,IAAD,CAA1C;EACA,MAAM,CAACU,KAAD,EAAQC,QAAR,IAAoBX,QAAQ,CAAC,KAAD,CAAlC;EACA,MAAMY,SAAS,GAAE;IACb,QAAU,QAAOR,MAAO,EADX;IAEb,kBAAoB,QAAOA,MAAO,WAFrB;IAGb,oBAAqB,QAAOA,MAAO,mBAHtB;IAIb,eAAiB,QAAOA,MAAO;EAJlB,CAAjB;EAMA,IAAIS,QAAJ;;EACA,KAAI,IAAIC,CAAR,IAAaF,SAAb,EAAuB;IACnB,IAAIG,KAAK,GAAGH,SAAS,CAACE,CAAD,CAArB;;IACA,IAAGA,CAAC,KAAKT,OAAT,EAAiB;MACbQ,QAAQ,GAAGE,KAAX;IACH;EACJ,CAhBwC,CAiBzC;;;EACA,MAAMC,GAAG,GAAI,GAAEd,QAAS,IAAGW,QAAS,EAApC;EAEAZ,SAAS,CAAC,MAAM;IACZQ,YAAY,CAAC,IAAD,CAAZ;IAEAQ,KAAK,CAACD,GAAD,CAAL,CACKE,IADL,CACUC,GAAG,IAAGA,GAAG,CAACC,IAAJ,EADhB,EAEKF,IAFL,CAEWZ,IAAD,IAAU;MACZe,OAAO,CAACC,GAAR,CAAYhB,IAAZ;;MAEA,KAAI,IAAIiB,IAAR,IAAgBjB,IAAI,CAACA,IAArB,EAA0B;QACtBC,OAAO,CAACgB,IAAD,EAAOlB,OAAP,CAAP;MACH;IACJ,CARL,EASKmB,KATL,CASaC,GAAD,IAAQ;MACZJ,OAAO,CAACC,GAAR,CAAYG,GAAZ;MACAd,QAAQ,CAAC,IAAD,CAAR;IACH,CAZL;EAaK,CAhBA,EAgBE,EAhBF,CAAT;EAiBA,OAAO;IAAEL,IAAF;IAAQE,SAAR;IAAmBE;EAAnB,CAAP;AACH;;GAtCeP,W;;AAwChB,SAASuB,WAAT,CAAqBtB,MAArB,EAA6BC,OAA7B,EAAqC;EACjC,MAAMO,SAAS,GAAE;IACb,QAAU,QAAOR,MAAO,EADX;IAEb,kBAAoB,QAAOA,MAAO,WAFrB;IAGb,oBAAqB,QAAOA,MAAO,mBAHtB;IAIb,eAAiB,QAAOA,MAAO;EAJlB,CAAjB;EAMA,IAAIS,QAAJ;;EAEA,KAAI,IAAIC,CAAR,IAAaF,SAAb,EAAuB;IACnB,IAAIG,KAAK,GAAGH,SAAS,CAACE,CAAD,CAArB;;IACA,IAAGA,CAAC,KAAKT,OAAT,EAAiB;MACbQ,QAAQ,GAAGE,KAAX;IACH;EACJ;;EACD,OAAOF,QAAP;AACH"},"metadata":{},"sourceType":"module"}